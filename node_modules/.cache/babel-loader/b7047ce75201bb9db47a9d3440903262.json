{"ast":null,"code":"var _jsxFileName = \"/Users/jatinmitruka/Downloads/Crowd-Funding-Application-master/frontend/src/components/Dashboard/profile/Profile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useContext, useState } from 'react';\nimport \"./Profile.css\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport DashboardNavbar from '../DashboardNavbar';\nimport UserContext from '../../../Context/userContext';\nimport axios from '../../../Axios/axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Profile = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const context = useContext(UserContext);\n  const {\n    user,\n    showAlert,\n    getUserData\n  } = context;\n  useEffect(() => {\n    if (!localStorage.getItem('token')) {\n      navigate(\"/login\");\n    }\n\n    getUserData();\n  }, []);\n  const [credentials, setCredentials] = useState({\n    currentPassword: \"\",\n    changePassword: \"\",\n    confirmChangePassword: \"\"\n  });\n\n  const onChange = e => {\n    setCredentials({ ...credentials,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const response = await axios.post(`/api/investor/changePassword`, {\n      currentPassword: credentials.currentPassword,\n      newPassword: credentials.changePassword\n    }, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"auth-token\": localStorage.getItem('token')\n      }\n    }).catch(error => {\n      showAlert(error.response.data.error);\n    });\n\n    if (response.data.success) {\n      showAlert(response.data.msg, \"success\");\n    }\n\n    showAlert(response.data.msg, \"failure\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(DashboardNavbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container profile_card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-center profile_head\",\n        children: \"User Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row my-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-3 col-md-12 col-sm-12 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://cdn-icons-png.flaticon.com/512/4521/4521953.png\",\n            alt: \"avatar\",\n            className: \"avatar_img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-center my-2 user_name\",\n            children: user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-5 col-md-7 col-sm-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-light\",\n            children: \"Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"labels\",\n            children: \"Display Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"labels_desc\",\n            children: user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"labels\",\n              children: \"Current Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 29\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 80\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"profile_password_input\",\n              name: \"currentPassword\",\n              onChange: onChange,\n              value: credentials.currentPassword\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 29\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 175\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"labels\",\n              children: \"Change Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 29\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 79\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"profile_password_input\",\n              name: \"changePassword\",\n              onChange: onChange,\n              value: credentials.changePassword\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 29\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 173\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"labels\",\n              children: \"Confirm Change Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 29\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 87\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"profile_password_input\",\n              name: \"confirmChangePassword\",\n              onChange: onChange,\n              value: credentials.confirmChangePassword\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 29\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 187\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"my-2 mb-3 btn change_password_btn\",\n              onClick: handleSubmit,\n              children: \"Save Changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-4 col-md-5 col-sm-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-light\",\n            children: \"Contacts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"labels\",\n            children: \"Your Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"labels_desc\",\n            children: user.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Profile, \"42+4xtkvXu6W6dHv9q5Akn5Ko4o=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["/Users/jatinmitruka/Downloads/Crowd-Funding-Application-master/frontend/src/components/Dashboard/profile/Profile.js"],"names":["React","useEffect","useContext","useState","useNavigate","Link","DashboardNavbar","UserContext","axios","Profile","navigate","context","user","showAlert","getUserData","localStorage","getItem","credentials","setCredentials","currentPassword","changePassword","confirmChangePassword","onChange","e","target","name","value","handleSubmit","preventDefault","response","post","newPassword","headers","catch","error","data","success","msg","email"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext, useState } from 'react';\nimport \"./Profile.css\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport DashboardNavbar from '../DashboardNavbar';\nimport UserContext from '../../../Context/userContext';\nimport axios from '../../../Axios/axios';\n\nconst Profile = () => {\n    const navigate = useNavigate();\n    const context = useContext(UserContext);\n    const { user,showAlert,getUserData } = context;\n    useEffect(() => {\n        if (!localStorage.getItem('token')) {\n            navigate(\"/login\");\n        }\n        getUserData()\n    }, [])\n   \n    const [credentials, setCredentials] = useState({ currentPassword: \"\", changePassword: \"\", confirmChangePassword: \"\" })\n    const onChange = (e) => {\n        setCredentials({ ...credentials, [e.target.name]: e.target.value });\n    };\n    const handleSubmit = async (e) =>{\n        e.preventDefault();\n        const response = await axios.post(`/api/investor/changePassword`,\n      {\n        currentPassword:credentials.currentPassword,\n        newPassword:credentials.changePassword,\n      },\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"auth-token\":\n          localStorage.getItem('token'),\n        },\n      }).catch((error)=>{\n          showAlert(error.response.data.error)\n      });\n      if(response.data.success){\n          showAlert(response.data.msg,\"success\");\n      }\n      showAlert(response.data.msg,\"failure\");\n    }\n    return (\n        <>\n            <DashboardNavbar />\n            <div className=\"container profile_card\">\n                <h3 className=\"text-center profile_head\">User Profile</h3>\n                <div className=\"row my-5\">\n                    <div className=\"col-lg-3 col-md-12 col-sm-12 mb-3\">\n                        <img src=\"https://cdn-icons-png.flaticon.com/512/4521/4521953.png\" alt=\"avatar\" className=\"avatar_img\" />\n                        <h4 className=\"text-center my-2 user_name\">{user.name}</h4>\n                        <br />\n                    </div>\n                    <div className=\"col-lg-5 col-md-7 col-sm-12\">\n                        <h4 className=\"text-light\">Details</h4>\n                        <label className=\"labels\">Display Name</label>\n                        <p className=\"labels_desc\">{user.name}</p>\n                        <form>\n                            <label className=\"labels\">Current Password</label> <br />\n                            <input type=\"password\" className=\"profile_password_input\" name=\"currentPassword\" onChange={onChange} value={credentials.currentPassword}></input> <br />\n\n                            <label className=\"labels\">Change Password</label> <br />\n                            <input type=\"password\" className=\"profile_password_input\" name=\"changePassword\" onChange={onChange} value={credentials.changePassword}></input> <br />\n\n                            <label className=\"labels\">Confirm Change Password</label> <br />\n                            <input type=\"password\" className=\"profile_password_input\" name=\"confirmChangePassword\" onChange={onChange} value={credentials.confirmChangePassword}></input> <br />\n\n                            <button className=\"my-2 mb-3 btn change_password_btn\" onClick={handleSubmit}>Save Changes</button>\n                        </form>\n                    </div>\n                    <div className=\"col-lg-4 col-md-5 col-sm-12\">\n                        <h4 className=\"text-light\">Contacts</h4>\n                        <label className=\"labels\">Your Email</label>\n                        <p className=\"labels_desc\">{user.email}</p>\n                    </div>\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}